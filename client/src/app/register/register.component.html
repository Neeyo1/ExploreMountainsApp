<div class="d-flex align-items-center justify-content-center mt-5 mb-5">
    <div class="col-4">
        <form [formGroup]="registerForm" (ngSubmit)="register()" autocomplete="off">
            <h2 class="text-center text-primary">Register</h2>
            <hr>

            <app-text-input
                [formControl]="$any(registerForm.controls['username'])"
                [label]="'Username'"
            ></app-text-input>

            <app-text-input
                [formControl]="$any(registerForm.controls['knownAs'])"
                [label]="'Known as'"
            ></app-text-input>

            <app-date-picker
                [formControl]="$any(registerForm.controls['dateOfBirth'])"
                [label]="'Date of birth'"
                [maxDate]="maxDate"
            ></app-date-picker>

            <app-text-input
                [formControl]="$any(registerForm.controls['password'])"
                [label]="'Password'"
                [type]="'password'"
            ></app-text-input>

            <app-text-input
                [formControl]="$any(registerForm.controls['confirmPassword'])"
                [label]="'Confirm password'"
                [type]="'password'"
            ></app-text-input>

            <div class="mb-3">
                <label style="margin-right: 10px;">Profile visibility</label>
                <label class="form-check-label">
                    <input type="radio" 
                           class="form-check-input"
                           value="private"
                           formControlName="publicProfile"> Private
                    <input type="radio" 
                           class="form-check-input"
                           value="public"
                           formControlName="publicProfile"> Public
                </label>
            </div>

            @if (validationErrors) {
                <div class="alert alert-danger text-start">
                    <ul>
                        @for (error of validationErrors; track $index) {
                            <li>{{error}}</li>
                        }
                    </ul>
                </div>
            }

            <div class="form-group text-center">
                <button class="btn btn-primary me-2" 
                        type="submit"
                        [disabled]="!registerForm.valid">Register</button>
            </div>
        </form>
    </div>
</div>